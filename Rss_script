-- RSS TEST SCRIPT - Минимальная версия для проверки
print("[RSS TEST] Скрипт загружен!")

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

if not LocalPlayer then
    print("[RSS TEST] ОШИБКА: LocalPlayer не найден!")
    return
end

print("[RSS TEST] LocalPlayer найден: " .. LocalPlayer.Name)

-- Загружаем WindUI
local WindUI
print("[RSS TEST] Загрузка WindUI...")
pcall(function()
    local url = "https://raw.githubusercontent.com/Footagesus/WindUI/main/dist/main.lua"
    print("[RSS TEST] URL: " .. url)
    local code = game:HttpGet(url)
    print("[RSS TEST] Получен код размером: " .. tostring(#code) .. " байт")
    WindUI = loadstring(code)()
    print("[RSS TEST] WindUI загружен!")
end, function(err)
    print("[RSS TEST] ОШИБКА при загрузке WindUI: " .. tostring(err))
end)

if not WindUI then
    print("[RSS TEST] ОШИБКА: WindUI не загружен!")
    return
end

print("[RSS TEST] WindUI успешно загружен!")

-- Создаем окно
print("[RSS TEST] Создание главного окна...")
local Window
pcall(function()
    Window = WindUI:CreateWindow({
        Title = "RSS - VETA TEST",
        Icon = "rbxassetid://106211849494703",
        Author = "VETA",
        Folder = "RSSVETA",
    })
    print("[RSS TEST] Окно создано!")
end, function(err)
    print("[RSS TEST] ОШИБКА при создании окна: " .. tostring(err))
end)

if not Window then
    print("[RSS TEST] ОШИБКА: Окно не создано!")
    return
end

print("[RSS TEST] Окно создано успешно!")

-- Пытаемся установить горячую клавишу
pcall(function()
    Window:SetToggleKey(Enum.KeyCode.RightControl)
    print("[RSS TEST] Горячая клавиша установлена: RightControl")
end)

-- Создаем вкладку
print("[RSS TEST] Создание вкладки...")
local Tab = Window:Tab({ Title = "Тест", Icon = "check" })
print("[RSS TEST] Вкладка создана!")

-- Создаем секцию
local Section = Tab:Section({ Title = "Информация" })
print("[RSS TEST] Секция создана!")

-- Добавляем кнопку
Section:Button({
    Title = "Кнопка для проверки",
    Desc = "Нажми чтобы проверить",
    Callback = function()
        print("[RSS TEST] Кнопка нажата!")
    end
})

print("[RSS TEST] Кнопка добавлена!")

-- Финальное сообщение
pcall(function()
    WindUI:Notify({
        Title = "Успех!",
        Content = "RSS Тестовый скрипт работает!",
        Icon = "check",
        Duration = 5
    })
end)

print("[RSS TEST] =================================")
print("[RSS TEST] Скрипт успешно инициализирован!")
print("[RSS TEST] Нажмите RightControl для открытия UI")
print("[RSS TEST] =================================")
