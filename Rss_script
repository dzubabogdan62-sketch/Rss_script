
-- ü•Ö –†–ï–ê–õ–¨–ù–ê–Ø –ó–ê–©–ò–¢–ê –í–†–ê–¢–ê–†–Ø - –§–ò–ó–ò–ß–ï–°–ö–ò–ô –©–ò–¢
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local lp = Players.LocalPlayer

local Settings = {
    Size = 50,
    Power = 180,
    UpdateRate = 0.01 -- –û—á–µ–Ω—å —á–∞—Å—Ç–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
}

-- –°–û–ó–î–ê–Å–ú –†–ï–ê–õ–¨–ù–´–ô –§–ò–ó–ò–ß–ï–°–ö–ò–ô –©–ò–¢
local shield = Instance.new("Part")
shield.Name = "GateShield"
shield.Shape = Enum.PartType.Ball
shield.Size = Vector3.new(Settings.Size, Settings.Size, Settings.Size)
shield.Material = Enum.Material.ForceField
shield.CanCollide = true -- –í–ö–õ–Æ–ß–ê–ï–ú –ö–û–õ–õ–ò–ó–ò–Æ!
shield.Anchored = false -- –î–ï–õ–ê–ï–ú –ù–ï–ü–û–î–í–ò–ñ–ù–´–ú –ß–ï–†–ï–ó BODYPOSITION
shield.Massless = true
shield.Transparency = 0.3
shield.Color = Color3.fromRGB(255, 0, 0)
shield.CanTouch = true
shield.Parent = workspace

-- –§–ò–ö–°–ê–¶–ò–Ø –©–ò–¢–ê –ù–ê –ú–ï–°–¢–ï
local bodyPos = Instance.new("BodyPosition")
bodyPos.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
bodyPos.P = 100000
bodyPos.D = 5000
bodyPos.Parent = shield

local bodyGyro = Instance.new("BodyGyro")
bodyGyro.MaxTorque = Vector3.new(math.huge, math.huge, math.huge)
bodyGyro.P = 100000
bodyGyro.D = 5000
bodyGyro.Parent = shield

-- –ö–ù–û–ü–ö–ê
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = game.CoreGui

local btn = Instance.new("TextButton")
btn.Parent = ScreenGui
btn.Size = UDim2.fromOffset(60, 60)
btn.Position = UDim2.new(0, 10, 0.5, -30)
btn.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
btn.TextColor3 = Color3.new(1,1,1)
btn.Text = "üõ°Ô∏è"
btn.TextSize = 30
btn.Font = Enum.Font.GothamBold
Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 15)

local active = true
btn.MouseButton1Click:Connect(function()
    active = not active
    btn.BackgroundColor3 = active and Color3.fromRGB(255, 50, 50) or Color3.fromRGB(100, 100, 100)
    shield.CanCollide = active
end)

-- –°–ß–Å–¢–ß–ò–ö –û–¢–°–ö–û–ö–û–í
local lastBounce = {}

-- –û–ë–†–ê–ë–û–¢–ö–ê –ö–ê–°–ê–ù–ò–Ø
shield.Touched:Connect(function(hit)
    if not active then return end
    
    -- –ü–†–û–í–ï–†–ö–ê –ß–¢–û –≠–¢–û –ú–Ø–ß
    if not (hit.Name == "ball" or hit.Name == "TouchBall" or hit.Name == "SoccerBall") then return end
    if not hit:IsA("BasePart") then return end
    
    -- –ó–ê–©–ò–¢–ê –û–¢ –°–ü–ê–ú–ê
    local now = tick()
    if lastBounce[hit] and (now - lastBounce[hit]) < 0.15 then return end
    lastBounce[hit] = now
    
    -- –í–ò–ó–£–ê–õ–¨–ù–ê–Ø –û–ë–†–ê–¢–ù–ê–Ø –°–í–Ø–ó–¨
    shield.Color = Color3.fromRGB(0, 255, 0)
    task.delay(0.1, function()
        if shield then shield.Color = Color3.fromRGB(255, 0, 0) end
    end)
    
    -- –í–ï–ö–¢–û–† –û–¢–°–ö–û–ö–ê
    local shieldCenter = shield.Position
    local ballPos = hit.Position
    local direction = (ballPos - shieldCenter).Unit
    
    -- –°–ò–õ–¨–ù–´–ô –û–¢–°–ö–û–ö
    hit.AssemblyLinearVelocity = direction * Settings.Power + Vector3.new(0, 30, 0)
    hit.AssemblyAngularVelocity = Vector3.new(
        math.random(-70, 70),
        math.random(-70, 70),
        math.random(-70, 70)
    )
    
    -- –¢–ï–õ–ï–ü–û–†–¢ –ú–Ø–ß–ê –ù–ê–†–£–ñ–£ (–ê–ù–¢–ò–ì–õ–ò–¢–ß)
    local dist = (ballPos - shieldCenter).Magnitude
    if dist < Settings.Size/2 then
        hit.CFrame = CFrame.new(shieldCenter + direction * (Settings.Size/2 + 3))
    end
    
    print("‚öΩ –ú—è—á –æ—Ç–±–∏—Ç!")
end)

-- –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê –ß–ï–†–ï–ó RAYCAST
local lastCheck = 0
RunService.Heartbeat:Connect(function()
    local char = lp.Character
    local root = char and char:FindFirstChild("HumanoidRootPart")
    if not root then return end
    
    -- –ü–û–ó–ò–¶–ò–Ø –©–ò–¢–ê
    local targetPos = root.CFrame * CFrame.new(0, 0, -Settings.Size/3)
    bodyPos.Position = targetPos.Position
    bodyGyro.CFrame = targetPos
    
    if not active then 
        shield.Transparency = 1
        shield.CanCollide = false
        return 
    end
    
    shield.Transparency = 0.3
    shield.CanCollide = true
    
    -- –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê –ú–Ø–ß–ï–ô –†–Ø–î–û–ú
    local now = tick()
    if now - lastCheck < Settings.UpdateRate then return end
    lastCheck = now
    
    for _, obj in pairs(workspace:GetChildren()) do
        if (obj.Name == "ball" or obj.Name == "TouchBall" or obj.Name == "SoccerBall") and obj:IsA("BasePart") then
            local dist = (obj.Position - shield.Position).Magnitude
            
            -- –ï–°–õ–ò –ú–Ø–ß –û–ß–ï–ù–¨ –ë–õ–ò–ó–ö–û –ò –ù–ï –û–¢–õ–ï–¢–ï–õ
            if dist < (Settings.Size/2 + 5) then
                local vel = obj.AssemblyLinearVelocity.Magnitude
                
                -- –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –º—è—á –¥–≤–∏–∂–µ—Ç—Å—è –∫ —â–∏—Ç—É –∏–ª–∏ –∑–∞—Å—Ç—Ä—è–ª
                local toShield = (shield.Position - obj.Position).Unit
                local velDir = obj.AssemblyLinearVelocity.Unit
                local movingToShield = velDir:Dot(toShield) > 0.3
                
                if vel < 20 or movingToShield then
                    -- –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–´–ô –û–¢–°–ö–û–ö
                    local direction = (obj.Position - shield.Position).Unit
                    obj.AssemblyLinearVelocity = direction * Settings.Power + Vector3.new(0, 30, 0)
                    obj.CFrame = CFrame.new(shield.Position + direction * (Settings.Size/2 + 5))
                    
                    shield.Color = Color3.fromRGB(0, 255, 0)
                    task.delay(0.1, function()
                        if shield then shield.Color = Color3.fromRGB(255, 0, 0) end
                    end)
                    
                    print("‚ö° –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –æ—Ç—Å–∫–æ–∫!")
                end
            end
        end
    end
end)

-- –û–ß–ò–°–¢–ö–ê
game:GetService("Players").PlayerRemoving:Connect(function(player)
    if player == lp then
        shield:Destroy()
        ScreenGui:Destroy()
    end
end)

print("‚úÖ –†–ï–ê–õ–¨–ù–ê–Ø —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è –∑–∞—â–∏—Ç–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞!")
print("‚úÖ CanCollide –≤–∫–ª—é—á—ë–Ω - –º—è—á –±—É–¥–µ—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –æ—Ç—Å–∫–∞–∫–∏–≤–∞—Ç—å")
print("‚úÖ –î–≤–æ–π–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞: Touched + –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞")
